{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"source\", \"placeholder\", \"contentFit\", \"contentPosition\", \"placeholderContentFit\", \"onLoad\", \"transition\", \"onError\", \"responsivePolicy\", \"onLoadEnd\", \"priority\", \"blurRadius\"],\n  _excluded2 = [\"aspectRatio\", \"backgroundColor\", \"transform\", \"borderColor\"];\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React from 'react';\nimport AnimationManager from \"./web/AnimationManager\";\nimport ImageWrapper from \"./web/ImageWrapper\";\nimport loadStyle from \"./web/style\";\nimport useSourceSelection from \"./web/useSourceSelection\";\nloadStyle();\nfunction onLoadAdapter(onLoad) {\n  return function (event) {\n    var target = event.target;\n    onLoad == null ? void 0 : onLoad({\n      source: {\n        url: target.currentSrc,\n        width: target.naturalWidth,\n        height: target.naturalHeight,\n        mediaType: null\n      },\n      cacheType: 'none'\n    });\n  };\n}\nfunction onErrorAdapter(onError) {\n  return function (_ref) {\n    var source = _ref.source;\n    onError == null ? void 0 : onError({\n      error: \"Failed to load image from url: \" + (source == null ? void 0 : source.uri)\n    });\n  };\n}\nvar setCssVariables = function setCssVariables(element, size) {\n  element == null ? void 0 : element.style.setProperty('--expo-image-width', size.width + \"px\");\n  element == null ? void 0 : element.style.setProperty('--expo-image-height', size.height + \"px\");\n};\nexport default function ExpoImage(_ref2) {\n  var _props$style, _placeholder$, _placeholder$2, _placeholder$3;\n  var source = _ref2.source,\n    placeholder = _ref2.placeholder,\n    contentFit = _ref2.contentFit,\n    contentPosition = _ref2.contentPosition,\n    placeholderContentFit = _ref2.placeholderContentFit,\n    onLoad = _ref2.onLoad,\n    transition = _ref2.transition,\n    onError = _ref2.onError,\n    responsivePolicy = _ref2.responsivePolicy,\n    onLoadEnd = _ref2.onLoadEnd,\n    priority = _ref2.priority,\n    blurRadius = _ref2.blurRadius,\n    props = _objectWithoutProperties(_ref2, _excluded);\n  var _ref3 = (_props$style = props.style) != null ? _props$style : {},\n    aspectRatio = _ref3.aspectRatio,\n    backgroundColor = _ref3.backgroundColor,\n    transform = _ref3.transform,\n    borderColor = _ref3.borderColor,\n    style = _objectWithoutProperties(_ref3, _excluded2);\n  var imagePlaceholderContentFit = placeholderContentFit || 'scale-down';\n  var blurhashStyle = {\n    objectFit: placeholderContentFit || contentFit\n  };\n  var _useSourceSelection = useSourceSelection(source, responsivePolicy, setCssVariables),\n    containerRef = _useSourceSelection.containerRef,\n    selectedSource = _useSourceSelection.source;\n  return React.createElement(\"div\", {\n    ref: containerRef,\n    className: \"expo-image-container\",\n    style: _objectSpread(_objectSpread({\n      aspectRatio: String(aspectRatio),\n      backgroundColor: backgroundColor == null ? void 0 : backgroundColor.toString(),\n      transform: transform == null ? void 0 : transform.toString(),\n      borderColor: borderColor == null ? void 0 : borderColor.toString()\n    }, style), {}, {\n      overflow: 'hidden',\n      position: 'relative'\n    })\n  }, React.createElement(AnimationManager, {\n    transition: transition,\n    initial: placeholder != null && (_placeholder$ = placeholder[0]) != null && _placeholder$.uri ? [(placeholder == null ? void 0 : (_placeholder$2 = placeholder[0]) == null ? void 0 : _placeholder$2.uri) || '', function (_ref4) {\n      var onAnimationFinished = _ref4.onAnimationFinished;\n      return function (className, style) {\n        return React.createElement(ImageWrapper, {\n          source: placeholder == null ? void 0 : placeholder[0],\n          style: _objectSpread(_objectSpread({\n            objectFit: imagePlaceholderContentFit\n          }, blurRadius ? {\n            filter: \"blur(\" + blurRadius + \"px)\"\n          } : {}), style),\n          className: className,\n          events: {\n            onTransitionEnd: [onAnimationFinished]\n          },\n          contentPosition: {\n            left: '50%',\n            top: '50%'\n          },\n          blurhashContentPosition: contentPosition,\n          blurhashStyle: blurhashStyle\n        });\n      };\n    }] : null\n  }, (selectedSource == null ? void 0 : selectedSource.uri) || (placeholder == null ? void 0 : (_placeholder$3 = placeholder[0]) == null ? void 0 : _placeholder$3.uri), function (_ref5) {\n    var onAnimationFinished = _ref5.onAnimationFinished,\n      onReady = _ref5.onReady,\n      onMount = _ref5.onMount,\n      onErrorInner = _ref5.onError;\n    return function (className, style) {\n      return React.createElement(ImageWrapper, {\n        source: selectedSource || (placeholder == null ? void 0 : placeholder[0]),\n        events: {\n          onError: [onErrorAdapter(onError), onLoadEnd, onErrorInner],\n          onLoad: [onLoadAdapter(onLoad), onLoadEnd, onReady],\n          onMount: [onMount],\n          onTransitionEnd: [onAnimationFinished]\n        },\n        style: _objectSpread(_objectSpread({\n          objectFit: selectedSource ? contentFit : imagePlaceholderContentFit\n        }, blurRadius ? {\n          filter: \"blur(\" + blurRadius + \"px)\"\n        } : {}), style),\n        className: className,\n        priority: priority,\n        contentPosition: selectedSource ? contentPosition : {\n          top: '50%',\n          left: '50%'\n        },\n        blurhashContentPosition: contentPosition,\n        blurhashStyle: blurhashStyle\n      });\n    };\n  }));\n}","map":{"version":3,"names":["React","AnimationManager","ImageWrapper","loadStyle","useSourceSelection","onLoadAdapter","onLoad","event","target","source","url","currentSrc","width","naturalWidth","height","naturalHeight","mediaType","cacheType","onErrorAdapter","onError","_ref","error","uri","setCssVariables","element","size","style","setProperty","ExpoImage","_ref2","_props$style","_placeholder$","_placeholder$2","_placeholder$3","placeholder","contentFit","contentPosition","placeholderContentFit","transition","responsivePolicy","onLoadEnd","priority","blurRadius","props","_objectWithoutProperties","_excluded","_ref3","aspectRatio","backgroundColor","transform","borderColor","_excluded2","imagePlaceholderContentFit","blurhashStyle","objectFit","_useSourceSelection","containerRef","selectedSource","createElement","ref","className","_objectSpread","String","toString","overflow","position","initial","_ref4","onAnimationFinished","filter","events","onTransitionEnd","left","top","blurhashContentPosition","_ref5","onReady","onMount","onErrorInner"],"sources":["G:\\Pro\\locofy-react-native-project (3)\\node_modules\\expo-image\\src\\ExpoImage.web.tsx"],"sourcesContent":["import React from 'react';\n\nimport { ImageNativeProps, ImageSource, ImageLoadEventData } from './Image.types';\nimport AnimationManager from './web/AnimationManager';\nimport ImageWrapper from './web/ImageWrapper';\nimport loadStyle from './web/style';\nimport useSourceSelection from './web/useSourceSelection';\n\nloadStyle();\n\nfunction onLoadAdapter(onLoad?: (event: ImageLoadEventData) => void) {\n  return (event: React.SyntheticEvent<HTMLImageElement, Event>) => {\n    const target = event.target as HTMLImageElement;\n    onLoad?.({\n      source: {\n        url: target.currentSrc,\n        width: target.naturalWidth,\n        height: target.naturalHeight,\n        mediaType: null,\n      },\n      cacheType: 'none',\n    });\n  };\n}\n\nfunction onErrorAdapter(onError?: { (event: { error: string }): void }) {\n  return ({ source }: { source?: ImageSource | null }) => {\n    onError?.({\n      error: `Failed to load image from url: ${source?.uri}`,\n    });\n  };\n}\n\nconst setCssVariables = (element: HTMLElement, size: DOMRect) => {\n  element?.style.setProperty('--expo-image-width', `${size.width}px`);\n  element?.style.setProperty('--expo-image-height', `${size.height}px`);\n};\n\nexport default function ExpoImage({\n  source,\n  placeholder,\n  contentFit,\n  contentPosition,\n  placeholderContentFit,\n  onLoad,\n  transition,\n  onError,\n  responsivePolicy,\n  onLoadEnd,\n  priority,\n  blurRadius,\n  ...props\n}: ImageNativeProps) {\n  const { aspectRatio, backgroundColor, transform, borderColor, ...style } = props.style ?? {};\n  const imagePlaceholderContentFit = placeholderContentFit || 'scale-down';\n  const blurhashStyle = {\n    objectFit: placeholderContentFit || contentFit,\n  };\n  const { containerRef, source: selectedSource } = useSourceSelection(\n    source,\n    responsivePolicy,\n    setCssVariables\n  );\n\n  return (\n    <div\n      ref={containerRef}\n      className=\"expo-image-container\"\n      style={{\n        aspectRatio: String(aspectRatio),\n        backgroundColor: backgroundColor?.toString(),\n        transform: transform?.toString(),\n        borderColor: borderColor?.toString(),\n        ...style,\n        overflow: 'hidden',\n        position: 'relative',\n      }}>\n      <AnimationManager\n        transition={transition}\n        initial={\n          placeholder?.[0]?.uri\n            ? [\n                placeholder?.[0]?.uri || '',\n                ({ onAnimationFinished }) =>\n                  (className, style) =>\n                    (\n                      <ImageWrapper\n                        source={placeholder?.[0]}\n                        style={{\n                          objectFit: imagePlaceholderContentFit,\n                          ...(blurRadius ? { filter: `blur(${blurRadius}px)` } : {}),\n                          ...style,\n                        }}\n                        className={className}\n                        events={{\n                          onTransitionEnd: [onAnimationFinished],\n                        }}\n                        contentPosition={{ left: '50%', top: '50%' }}\n                        blurhashContentPosition={contentPosition}\n                        blurhashStyle={blurhashStyle}\n                      />\n                    ),\n              ]\n            : null\n        }>\n        {(selectedSource as any)?.uri || placeholder?.[0]?.uri}\n        {({ onAnimationFinished, onReady, onMount, onError: onErrorInner }) =>\n          (className, style) =>\n            (\n              <ImageWrapper\n                source={selectedSource || placeholder?.[0]}\n                events={{\n                  onError: [onErrorAdapter(onError), onLoadEnd, onErrorInner],\n                  onLoad: [onLoadAdapter(onLoad), onLoadEnd, onReady],\n                  onMount: [onMount],\n                  onTransitionEnd: [onAnimationFinished],\n                }}\n                style={{\n                  objectFit: selectedSource ? contentFit : imagePlaceholderContentFit,\n                  ...(blurRadius ? { filter: `blur(${blurRadius}px)` } : {}),\n                  ...style,\n                }}\n                className={className}\n                priority={priority}\n                contentPosition={selectedSource ? contentPosition : { top: '50%', left: '50%' }}\n                blurhashContentPosition={contentPosition}\n                blurhashStyle={blurhashStyle}\n              />\n            )}\n      </AnimationManager>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}