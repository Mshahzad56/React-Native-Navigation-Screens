{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useEffect } from 'react';\nimport { useBlurhash } from \"../utils/blurhash/useBlurhash\";\nimport { isBlurhashString } from \"../utils/resolveSources\";\nfunction ensureUnit(value) {\n  var trimmedValue = String(value).trim();\n  if (trimmedValue.endsWith('%')) {\n    return trimmedValue;\n  }\n  return trimmedValue + \"px\";\n}\nfunction getObjectPositionFromContentPositionObject(contentPosition) {\n  var resolvedPosition = _objectSpread({}, contentPosition);\n  if (!resolvedPosition) {\n    return '50% 50%';\n  }\n  if (resolvedPosition.top == null && resolvedPosition.bottom == null) {\n    resolvedPosition.top = '50%';\n  }\n  if (resolvedPosition.left == null && resolvedPosition.right == null) {\n    resolvedPosition.left = '50%';\n  }\n  return ['top', 'bottom', 'left', 'right'].map(function (key) {\n    if (key in resolvedPosition) {\n      return key + \" \" + ensureUnit(resolvedPosition[key]);\n    }\n    return '';\n  }).join(' ') || '50% 50%';\n}\nfunction getFetchPriorityFromImagePriority() {\n  var priority = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'normal';\n  return priority && ['low', 'high'].includes(priority) ? priority : 'auto';\n}\nvar ImageWrapper = React.forwardRef(function (_ref, ref) {\n  var source = _ref.source,\n    events = _ref.events,\n    contentPosition = _ref.contentPosition,\n    blurhashContentPosition = _ref.blurhashContentPosition,\n    priority = _ref.priority,\n    style = _ref.style,\n    blurhashStyle = _ref.blurhashStyle,\n    className = _ref.className;\n  useEffect(function () {\n    var _events$onMount;\n    events == null ? void 0 : (_events$onMount = events.onMount) == null ? void 0 : _events$onMount.forEach(function (e) {\n      return e == null ? void 0 : e();\n    });\n  }, []);\n  var isBlurhash = isBlurhashString((source == null ? void 0 : source.uri) || '');\n  var blurhashUri = useBlurhash(isBlurhash ? source == null ? void 0 : source.uri : null, source == null ? void 0 : source.width, source == null ? void 0 : source.height);\n  var objectPosition = getObjectPositionFromContentPositionObject(isBlurhash ? blurhashContentPosition : contentPosition);\n  var uri = isBlurhash ? blurhashUri : source == null ? void 0 : source.uri;\n  if (!uri) return null;\n  return React.createElement(\"img\", {\n    ref: ref,\n    className: className,\n    src: uri || undefined,\n    key: source == null ? void 0 : source.uri,\n    style: _objectSpread(_objectSpread({\n      width: '100%',\n      height: '100%',\n      position: 'absolute',\n      left: 0,\n      right: 0,\n      objectPosition: objectPosition\n    }, style), isBlurhash ? blurhashStyle : {}),\n    fetchpriority: getFetchPriorityFromImagePriority(priority || 'normal'),\n    onLoad: function onLoad(event) {\n      var _events$onLoad;\n      events == null ? void 0 : (_events$onLoad = events.onLoad) == null ? void 0 : _events$onLoad.forEach(function (e) {\n        return e == null ? void 0 : e(event);\n      });\n    },\n    onTransitionEnd: function onTransitionEnd() {\n      var _events$onTransitionE;\n      return events == null ? void 0 : (_events$onTransitionE = events.onTransitionEnd) == null ? void 0 : _events$onTransitionE.forEach(function (e) {\n        return e == null ? void 0 : e();\n      });\n    },\n    onError: function onError() {\n      var _events$onError;\n      return events == null ? void 0 : (_events$onError = events.onError) == null ? void 0 : _events$onError.forEach(function (e) {\n        return e == null ? void 0 : e({\n          source: source || null\n        });\n      });\n    }\n  });\n});\nexport default ImageWrapper;","map":{"version":3,"names":["React","useEffect","useBlurhash","isBlurhashString","ensureUnit","value","trimmedValue","String","trim","endsWith","getObjectPositionFromContentPositionObject","contentPosition","resolvedPosition","_objectSpread","top","bottom","left","right","map","key","join","getFetchPriorityFromImagePriority","priority","arguments","length","undefined","includes","ImageWrapper","forwardRef","_ref","ref","source","events","blurhashContentPosition","style","blurhashStyle","className","_events$onMount","onMount","forEach","e","isBlurhash","uri","blurhashUri","width","height","objectPosition","createElement","src","position","fetchpriority","onLoad","event","_events$onLoad","onTransitionEnd","_events$onTransitionE","onError","_events$onError"],"sources":["G:\\Pro\\locofy-react-native-project (3)\\node_modules\\expo-image\\src\\web\\ImageWrapper.tsx"],"sourcesContent":["import React, { CSSProperties, SyntheticEvent, useEffect, Ref } from 'react';\n\nimport {\n  ImageContentPositionObject,\n  ImageContentPositionValue,\n  ImageNativeProps,\n  ImageSource,\n} from '../Image.types';\nimport { useBlurhash } from '../utils/blurhash/useBlurhash';\nimport { isBlurhashString } from '../utils/resolveSources';\n\nfunction ensureUnit(value: string | number) {\n  const trimmedValue = String(value).trim();\n  if (trimmedValue.endsWith('%')) {\n    return trimmedValue;\n  }\n  return `${trimmedValue}px`;\n}\n\ntype KeysOfUnion<T> = T extends T ? keyof T : never;\n\nfunction getObjectPositionFromContentPositionObject(\n  contentPosition?: ImageContentPositionObject\n): string {\n  const resolvedPosition = { ...contentPosition } as Record<\n    KeysOfUnion<ImageContentPositionObject>,\n    ImageContentPositionValue\n  >;\n  if (!resolvedPosition) {\n    return '50% 50%';\n  }\n  if (resolvedPosition.top == null && resolvedPosition.bottom == null) {\n    resolvedPosition.top = '50%';\n  }\n  if (resolvedPosition.left == null && resolvedPosition.right == null) {\n    resolvedPosition.left = '50%';\n  }\n\n  return (\n    ['top', 'bottom', 'left', 'right']\n      .map((key) => {\n        if (key in resolvedPosition) {\n          return `${key} ${ensureUnit(resolvedPosition[key])}`;\n        }\n        return '';\n      })\n      .join(' ') || '50% 50%'\n  );\n}\n\nfunction getFetchPriorityFromImagePriority(priority: ImageNativeProps['priority'] = 'normal') {\n  return priority && ['low', 'high'].includes(priority) ? priority : 'auto';\n}\n\nconst ImageWrapper = React.forwardRef(\n  (\n    {\n      source,\n      events,\n      contentPosition,\n      blurhashContentPosition,\n      priority,\n      style,\n      blurhashStyle,\n      className,\n    }: {\n      source?: ImageSource | null;\n      events?: {\n        onLoad?: (((event: SyntheticEvent<HTMLImageElement, Event>) => void) | undefined | null)[];\n        onError?: ((({ source }: { source: ImageSource | null }) => void) | undefined | null)[];\n        onTransitionEnd?: ((() => void) | undefined | null)[];\n        onMount?: ((() => void) | undefined | null)[];\n      };\n      contentPosition?: ImageContentPositionObject;\n      blurhashContentPosition?: ImageContentPositionObject;\n      priority?: string | null;\n      style: CSSProperties;\n      blurhashStyle?: CSSProperties;\n      className?: string;\n    },\n    ref: Ref<HTMLImageElement>\n  ) => {\n    useEffect(() => {\n      events?.onMount?.forEach((e) => e?.());\n    }, []);\n    const isBlurhash = isBlurhashString(source?.uri || '');\n    const blurhashUri = useBlurhash(isBlurhash ? source?.uri : null, source?.width, source?.height);\n    const objectPosition = getObjectPositionFromContentPositionObject(\n      isBlurhash ? blurhashContentPosition : contentPosition\n    );\n    const uri = isBlurhash ? blurhashUri : source?.uri;\n    if (!uri) return null;\n    return (\n      <img\n        ref={ref}\n        className={className}\n        src={uri || undefined}\n        key={source?.uri}\n        style={{\n          width: '100%',\n          height: '100%',\n          position: 'absolute',\n          left: 0,\n          right: 0,\n          objectPosition,\n          ...style,\n          ...(isBlurhash ? blurhashStyle : {}),\n        }}\n        // @ts-ignore\n        // eslint-disable-next-line react/no-unknown-property\n        fetchpriority={getFetchPriorityFromImagePriority(priority || 'normal')}\n        onLoad={(event) => {\n          events?.onLoad?.forEach((e) => e?.(event));\n        }}\n        onTransitionEnd={() => events?.onTransitionEnd?.forEach((e) => e?.())}\n        onError={() => events?.onError?.forEach((e) => e?.({ source: source || null }))}\n      />\n    );\n  }\n);\nexport default ImageWrapper;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}